(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(75)},6:function(e,t){function a(e){return/(?=.*[0-9])(?=.*[!@#$()%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#()$%^&*]{6,}/.test(e)}function r(e){return/^[a-zA-Z0-9.!#$%&\u2019*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}function n(e){return/^[a-zA-Z0-9_]{5,}[a-zA-Z]+[0-9]*$/.test(e)}function s(e){return!!e}e.exports={validateEmail:r,validatePassword:a,validateUsername:n,validateText:s,validClass:function(e,t){""!==t.value?t.className=e?"correct":"incorrect":t.className=""},checkValidation:function(e){return Object.keys(e).every(function(e,t){var c=document.querySelector("input[name=".concat(e,"]"));switch(!0){case"password"===e:return a(c.value);case"email"===e:return r(c.value);case"username"===e:return n(c.value);default:return console.log(c.value),s(c.value)}})}}},64:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(31),c=a.n(s),o=a(10),i=a(15),l=a(4),u=a(17),d=a.n(u),m="REGISTER_REQUEST",h="REGISTER_SUCCESS",p="REGISTER_FAILURE";var v={firstName:"",lastName:"",email:"",country:"",username:"",password:"",submitted:!1,errors:null,isFetching:!1};var b="AUTH_REQUEST",f="AUTH_SUCCESS",g="AUTH_FAILURE";var y=JSON.parse(localStorage.getItem("token"))?{loggedIn:!0}:{};var E="DASHBOARD_REQUEST",O="DASHBOARD_SUCCESS",N="DASHBOARD_FAILURE";var j={verify:!1};var w=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(l.a)({},t.payload,{submitted:!0,isFetching:!0});case h:return Object(l.a)({},t.payload,{submitted:!0,isFetching:!1,errors:null,redirect:t.redirect});case p:return Object(l.a)({},t.payload,{submitted:!0,isFetching:!1,errors:t.message});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)({},e,t.payload,{isFetching:!0,error:!1,loggedIn:!1});case f:return Object(l.a)({},e,t.payload,{isFetching:!1,error:!1,loggedIn:!0});case g:return Object(l.a)({},e,t.payload,{isFetching:!1,error:!0,loggedIn:!1});default:return Object(l.a)({},e)}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)({},e,{isFetching:!0});case O:return Object(l.a)({},e,{verify:!0,user:t.payload});case N:default:return Object(l.a)({},e)}}}),S=a(33),k=Object(i.d)(w,Object(i.a)(S.a)),C=(a(64),a(7)),A=a(8),I=a(11),R=a(9),U=a(12),T=a(16),F=function(e){return"Password"===e||"Re-type Password"===e?"password":"Email"===e?"email":"text"},P=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"register-block"},n.a.createElement("span",{className:"register-block-header"},"Enter you personal detail"),this.props.details.map(function(t,a){return function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0;return n.a.createElement("div",{className:"register-block-group",key:t},n.a.createElement("div",{className:"input-icon"}),n.a.createElement("div",{className:"input-container"},n.a.createElement("input",{type:F(e),placeholder:e,onChange:"Re-type Password"===e?s:a,name:r}),function(e){return"Password"===e||"Email"===e||"Username"===e}(e)&&n.a.createElement("div",{className:"tooltip"},function(e){switch(!0){case"Password"===e:return"min 6 symbols: 1 uppercase, 1 lowercase, 1 digit, 1 symbol require ";case"Username"===e:return"A-z, 0-9, _ symbols allowed";default:return""}}(e))))}(t,a,e.props.onChange,e.props.names[a],e.props.compare)}))}}]),t}(n.a.Component),x=a(13),_=Object(x.a)(),L=a(78),z=a(6),D=(a(66),function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(s)))).state={user:{firstName:"",lastName:"",email:"",country:"",username:"",password:""},submitted:!1,errors:null},a.renderInfo=function(){var e=a.props.user;return e.submitted&&null==e.errors&&!e.isFetching?n.a.createElement("div",{style:{marginTop:"15px",color:"#36bfb5"}},"REGISTER SUCCESSFUL "):e.submitted&&null!==e.errors&&!e.isFetching?n.a.createElement("div",{style:{marginTop:"15px",color:"#f05656"}},e.errors):void 0},a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"comparePaswords",value:function(e,t){var a=document.querySelectorAll("input[type='password']")[0],r=document.querySelectorAll("input[type='password']")[1],n=a.value===r.value;Object(z.validClass)(n,r)}},{key:"validRetypePassword",value:function(e){var t=e.target.value,a=this.state.user.password===t;Object(z.validClass)(a,e.target)}},{key:"handleChange",value:function(e){if(e.target.name){var t=e.target,a=t.name,r=t.value,n=this.state.user,s=e.target;if("password"===a){var c=Object(z.validatePassword)(r);Object(z.validClass)(c,s)}else if("email"===a){var o=Object(z.validateEmail)(r);Object(z.validClass)(o,s)}else if("username"===a){var i=Object(z.validateUsername)(r);Object(z.validClass)(i,s)}else{var u=Object(z.validateText)(r);Object(z.validClass)(u,s)}this.setState({user:Object(l.a)({},n,Object(T.a)({},a,r))},this.comparePaswords)}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user,a=this.props.register;Object(z.checkValidation)(this.state.user)&&(a(t),console.log(this.state.user))}},{key:"render",value:function(){var e=this.props.user;return e.submitted&&null==e.errors&&!e.isFetching&&e.redirect?n.a.createElement(L.a,{to:"/authenticate"}):n.a.createElement("div",{className:"register-form"},n.a.createElement("div",{className:"register-header"},"SIGN UP"),n.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),style:{width:"100%"}},n.a.createElement("div",{className:"register-container"},n.a.createElement(P,{details:["First Name","Last Name","Email","Country"],onChange:this.handleChange.bind(this),names:["firstName","lastName","email","country"]}),n.a.createElement(P,{details:["Username","Password","Re-type Password"],onChange:this.handleChange.bind(this),names:["username","password"],compare:this.validRetypePassword.bind(this)})),n.a.createElement("div",{className:"register-form-buttons"},n.a.createElement("button",{className:"register-submit-button",type:"submit"},"submit"),n.a.createElement("button",{className:"register-back-button",onClick:function(e){return _.goBack()}},"back"))),this.renderInfo())}}]),t}(n.a.Component)),G=Object(o.b)(function(e){return{user:e.user}},function(e){return{register:function(t){return e((a=t,function(e){e({type:m,payload:a}),d.a.post("/register",a).then(function(t){"ok"===t.data.register?(e({type:h,payload:a}),setTimeout(function(){return e({type:h,payload:a,redirect:!0})},3e3)):e({type:p,payload:a,message:t.data.message})}).catch(function(t){e({type:p,payload:a,message:t.message})})}));var a}}})(D),Z=a(79),B=a(77),H=a(35),J=function(e){var t=e.component,a=Object(H.a)(e,["component"]);return n.a.createElement(B.a,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?n.a.createElement(t,e):n.a.createElement(L.a,{to:{pathname:"/authenticate",state:{from:e.location}}})}}))},$=(a(69),a(76)),q=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(I.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",password:"",submitted:!1},a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(T.a)({},a,r))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,r=t.password,n=this.props.authenticate;a&&r&&n({username:a,password:r})}},{key:"render",value:function(){var e=this.props.auth,t=JSON.parse(localStorage.getItem("token"));return!0===e.loggedIn&&t?n.a.createElement(L.a,{to:"/"}):n.a.createElement("div",{className:"authenticate-form"},n.a.createElement("div",{className:"authenticate-header"},"SIGN IN"),n.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),style:{width:"100%"}},n.a.createElement("div",{className:"authenticate-container"},n.a.createElement("div",{className:"authenticate-block-group"},n.a.createElement("div",{className:"input-icon"}),n.a.createElement("div",{className:"input-container"},n.a.createElement("input",{type:"text",placeholder:"Username",name:"username",onChange:this.handleChange.bind(this),className:e.error?"incorrect":""}))),n.a.createElement("div",{className:"authenticate-block-group"},n.a.createElement("div",{className:"input-icon"}),n.a.createElement("div",{className:"input-container"},n.a.createElement("input",{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange.bind(this),className:e.error?"incorrect":""})))),n.a.createElement("div",{className:"authenticate-form-buttons"},n.a.createElement("button",{className:"authenticate-submit-button",type:"submit"},"LOGIN"))),!0===e.error&&n.a.createElement("div",{style:{"margin-top":"15px",color:"#f05656"}},"Username or password is incorrect"),n.a.createElement($.a,{className:"redirect-to-register",to:"/register"},"CREATE ACCOUNT"))}}]),t}(n.a.Component),W=Object(o.b)(function(e){return{auth:e.auth}},function(e){return{authenticate:function(t){return e((a=t,function(e){e({type:b,payload:a}),d.a.post("/authenticate",a).then(function(t){"200"==t.status?(localStorage.setItem("token",JSON.stringify(t.data)),e({type:f,payload:a})):e({type:g})}).catch(function(t){e({type:g,payload:a,err:t})})}));var a}}})(q),Q=(a(71),function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(I.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(n)))).state={verify:!1,user:""},a}return Object(U.a)(t,e),Object(A.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.checkToken)(JSON.parse(localStorage.getItem("token")))}},{key:"componentWillReceiveProps",value:function(e){e.dashboard.user&&this.setState({verify:e.dashboard.verify,user:e.dashboard.user})}},{key:"handleLogOut",value:function(){var e=this.props.checkToken;localStorage.removeItem("token"),e("")}},{key:"render",value:function(){var e=this.state.user,t=e.username,a=e.firstName,r=e.lastName,s=e.email,c=e.country;return n.a.createElement("div",{className:"dashboard"},n.a.createElement("div",{className:"dashboard-content"},n.a.createElement("div",{className:"dashboard-photo"},n.a.createElement("div",{className:"dashboard-user-photo"})),n.a.createElement("div",{className:"dashboard-info"},n.a.createElement("div",{className:"dashboard-info-top"},n.a.createElement("h2",{className:"dashboard-username"},t)),n.a.createElement("div",{className:"dashboard-info-basic"},n.a.createElement("div",{className:"dasboard-first-name"},"First name: ",a),n.a.createElement("div",{className:"dasboard-last-name"},"Last name: ",r),n.a.createElement("div",{className:"dasboard-email"},"Email: ",s),n.a.createElement("div",{className:"dasboard-country"},"Country: ",c)))),n.a.createElement("div",{className:"dashboard-footer"},n.a.createElement("span",{className:"dashboard-logout-button",onClick:this.handleLogOut.bind(this)},"LOG OUT")))}}]),t}(n.a.Component)),V=Object(o.b)(function(e){return{dashboard:e.dashboard}},function(e){return{checkToken:function(t){return e((a=t,function(e){e({type:E});var t={headers:{Authorization:a}};d.a.post("/",{key:"value"},t).then(function(t){console.log(t),e({type:O,payload:t.data.user})}).catch(function(t){localStorage.removeItem("token"),e({type:N})})}));var a}}})(Q),M=(a(73),function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return n.a.createElement(Z.a,{history:_},n.a.createElement("div",{className:"App"},n.a.createElement(B.a,{exact:!0,path:"/register",component:G}),n.a.createElement(B.a,{exact:!0,path:"/authenticate",component:W}),n.a.createElement(J,{exact:!0,path:"/",component:V})))}}]),t}(r.Component)),K=Object(o.b)(function(e){return{user:e.user,auth:e.auth,dashboard:e.dashboard}})(M);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(o.a,{store:k},n.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.fb70aeef.chunk.js.map